## **üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ map?**

  

**Map** ‚Äî —ç—Ç–æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞: –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–ª—é—á ‚Üí –∑–Ω–∞—á–µ–Ω–∏–µ.

```
m := map[string]int{"a": 1, "b": 2}
```

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

- —á—Ç–µ–Ω–∏–µ: v := m["a"]
    
- –≤—Å—Ç–∞–≤–∫—É: m["c"] = 3
    
- —É–¥–∞–ª–µ–Ω–∏–µ: delete(m, "a")
    
- –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞–ª–∏—á–∏—è: v, ok := m["key"]
    

---

## **‚öôÔ∏è –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–∞ map –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?**

- –û—Å–Ω–æ–≤–∞ ‚Äî **—Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ —Å open addressing** –∏ **bucket‚Äô–∞–º–∏**.
    
- –ö–∞–∂–¥—ã–π **bucket** —Ö—Ä–∞–Ω–∏—Ç –¥–æ 8 –ø–∞—Ä key-value (–≤ –º–∞—Å—Å–∏–≤–∞—Ö).
    
- –ü—Ä–∏ —Ä–æ—Å—Ç–µ –º–∞–ø—ã –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è **grow** ‚Äî —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤ 2√ó –±–æ–ª—å—à–µ.
    
- –í–æ –≤—Ä–µ–º—è —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **—ç–≤–∞–∫—É–∞—Ü–∏—è** —Å—Ç–∞—Ä—ã—Ö bucket‚Äô–æ–≤ –≤ –Ω–æ–≤—ã–µ.
    

---

## **üîë –ö–∞–∫–∏–µ –∫–ª—é—á–∏ –¥–æ–ø—É—Å—Ç–∏–º—ã?**

  

–ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **comparable** ‚Äî –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —á–µ—Ä–µ–∑ ==.

  

–†–∞–∑—Ä–µ—à–µ–Ω—ã:

- —á–∏—Å–ª–∞, —Å—Ç—Ä–æ–∫–∏, bool
    
- —É–∫–∞–∑–∞—Ç–µ–ª–∏, –∫–∞–Ω–∞–ª—ã, –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (–µ—Å–ª–∏ —Å—Ä–∞–≤–Ω–∏–º—ã)
    
- –º–∞—Å—Å–∏–≤—ã —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –¥–ª–∏–Ω—ã (–µ—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —Å—Ä–∞–≤–Ω–∏–º—ã)
    
- —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (–µ—Å–ª–∏ –≤—Å–µ –ø–æ–ª—è —Å—Ä–∞–≤–Ω–∏–º—ã)
    

  

‚ùå **–°–ª–∞–π—Å—ã, –º–∞–ø—ã, —Ñ—É–Ω–∫—Ü–∏–∏** ‚Äî –Ω–µ –ø–æ–¥—Ö–æ–¥—è—Ç, –æ–Ω–∏ –Ω–µ —Å—Ä–∞–≤–Ω–∏–º—ã.

---

## **‚ö†Ô∏è –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –≤ map?**

```go
go func() { m["a"] = 1 }()
go func() { m["b"] = 2 }()
```

‚Üí **–ø–∞–Ω–∏–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** (fatal error: concurrent map writes).

  

**map –≤ Go ‚Äî –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞.**

---

## **üö® –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —ç–≤–∞–∫—É–∞—Ü–∏—è (grow)?**

- –ö–æ–≥–¥–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –º–∞–ø—ã —Ä–∞—Å—Ç—ë—Ç, —Å–æ–∑–¥–∞—ë—Ç—Å—è –Ω–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞.
    
- –ü—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ —ç–ª–µ–º–µ–Ω—Ç—É, –µ–≥–æ **–æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç** –≤ –Ω–æ–≤—É—é —Ç–∞–±–ª–∏—Ü—É.
    
- –≠—Ç–æ **–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ**, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–∞—É–∑—ã (copy-on-access).
    

---

## **üîí –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞ –ª–∏ map?**

  

–ù–µ—Ç. **–ù–µ–ª—å–∑—è —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å –≤ –æ–±—ã—á–Ω—É—é –º–∞–ø—É –∏–∑ —Ä–∞–∑–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω.**

---

## **üÜö Map vs**¬†

## **sync.Map**

||map[K]V|sync.Map|
|---|---|---|
|–ë–µ–∑–æ–ø–∞—Å–Ω–∞|‚ùå|‚úÖ|
|–ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è|–ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞|–∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞|
|–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç range|‚úÖ|‚ùå (–µ—Å—Ç—å Range(fn))|
|–•–µ—à-—Ç–∞–±–ª–∏—Ü–∞|–¥–∞|–¥–∞, –Ω–æ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Ç—Ä—é–∫–∞–º–∏|

syn—Å.Map –±—ã—Å—Ç—Ä–µ–µ –ø—Ä–∏ **—Ä–µ–¥–∫–∏—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö –∏ —á–∞—Å—Ç–æ–º —á—Ç–µ–Ω–∏–∏**, –Ω–æ —Ö—É–∂–µ –ø—Ä–∏ –ø–ª–æ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏.

---

## **‚õî –ú–æ–∂–Ω–æ –ª–∏ –≤–∑—è—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–º–µ–Ω—Ç–∞ map?**

```go
p := &m["a"] // ‚ùå –Ω–µ–ª—å–∑—è ‚Äî –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–µ—Ä–µ–º–µ—â–µ–Ω–æ
```

**–ù–µ–ª—å–∑—è –±—Ä–∞—Ç—å –∞–¥—Ä–µ—Å —ç–ª–µ–º–µ–Ω—Ç–∞ –º–∞–ø—ã**, –ø–æ—Ç–æ–º—É —á—Ç–æ:

- –∑–Ω–∞—á–µ–Ω–∏–µ –º–æ–∂–µ—Ç **–ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è** –ø—Ä–∏ grow/—ç–≤–∞–∫—É–∞—Ü–∏–∏
    
- —ç—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ **–≤–∏—Å—è—á–µ–º—É —É–∫–∞–∑–∞—Ç–µ–ª—é** (invalid pointer)
    

---

## **‚è±Ô∏è –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–π**

- –ß—Ç–µ–Ω–∏–µ, –≤—Å—Ç–∞–≤–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ: **O(1)** –≤ —Å—Ä–µ–¥–Ω–µ–º
    
- –í —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ: **O(n)** (–ø—Ä–∏ –∫–æ–ª–ª–∏–∑–∏—è—Ö –∏–ª–∏ —ç–≤–∞–∫—É–∞—Ü–∏–∏)
    

---

## **üí¨ –ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ:**

  

> Map ‚Äî —ç—Ç–æ —Ö–µ—à-—Ç–∞–±–ª–∏—Ü–∞ —Å bucket‚Äô–∞–º–∏, –Ω–µ –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞.

> –≠–≤–∞–∫—É–∞—Ü–∏—è –ø—Ä–∏ —Ä–æ—Å—Ç–µ ‚Äî –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è.

> –ö–ª—é—á–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å comparable.

> Sync.Map ‚Äî –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∞–Ω–∞–ª–æ–≥, –Ω–æ —Å –¥—Ä—É–≥–∏–º–∏ trade-off‚Äô–∞–º–∏.

  
  
## **üß© –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–ª–∞–π—Å?**

  

–°–ª–∞–π—Å ‚Äî —ç—Ç–æ **–ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ–∫–Ω–∞ –Ω–∞–¥ –º–∞—Å—Å–∏–≤–æ–º**.

  

–û–Ω —Ö—Ä–∞–Ω–∏—Ç:

- —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ –º–∞—Å—Å–∏–≤
    
- –¥–ª–∏–Ω—É (len)
    
- –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å (cap)
    

```go
s := []int{1, 2, 3} // —Å–ª–∞–π—Å, –Ω–µ –º–∞—Å—Å–∏–≤
```

---

## **üÜö –ß–µ–º –º–∞—Å—Å–∏–≤ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Ç —Å–ª–∞–π—Å–∞?**

```go
var a [3]int     // –º–∞—Å—Å–∏–≤: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –¥–ª–∏–Ω–∞
var s []int      // —Å–ª–∞–π—Å: –≥–∏–±–∫–∏–π, –º–æ–∂–µ—Ç —Ä–∞—Å—Ç–∏
```

||**–ú–∞—Å—Å–∏–≤**|**–°–ª–∞–π—Å**|
|---|---|---|
|–†–∞–∑–º–µ—Ä|—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω|–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π|
|–ü–µ—Ä–µ–¥–∞—á–∞|–ø–æ –∑–Ω–∞—á–µ–Ω–∏—é|–ø–æ —Å—Å—ã–ª–∫–µ|
|–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å|–±—ã—Å—Ç—Ä–µ–µ (–±–µ–∑ –∞–ª–ª–æ–∫–∞—Ü–∏–π)|–≥–∏–±—á–µ, –Ω–æ –º–æ–∂–µ—Ç realloc‚Äô–∏—Ç—å—Å—è|

**–ü–ª—é—Å—ã –º–∞—Å—Å–∏–≤–∞**:

- –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Ä–∞–∑–º–µ—Ä –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏
    
- –Ω—É–ª–µ–≤–∞—è –∞–ª–ª–æ–∫–∞—Ü–∏—è, –º–µ–Ω—å—à–µ –Ω–∞–∫–ª–∞–¥–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤
    

---

## **‚ûï –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç**¬†

## **append**

## **?**

```go
s := []int{1, 2}
s = append(s, 3)
```

- –ï—Å–ª–∏ cap —Ö–≤–∞—Ç–∞–µ—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç.
    
- –ï—Å–ª–∏ cap –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç ‚Äî **—Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤ √ó2**, –∫–æ–ø–∏—Ä—É–µ—Ç –≤—Å—ë —Ç—É–¥–∞.
    

  

‚Üí append **–º–æ–∂–µ—Ç –ø–æ–º–µ–Ω—è—Ç—å –∞–¥—Ä–µ—Å underlying –º–∞—Å—Å–∏–≤–∞** ‚Üí —Å—Ç–∞—Ä—ã–µ —Å—Å—ã–ª–∫–∏ —Å—Ç–∞–Ω—É—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã.

---

## **‚öôÔ∏è –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–∞–π—Å–∞–º–∏**

1. **–ü—Ä–µ–¥–≤—ã–¥–µ–ª–∏—Ç—å –ø–∞–º—è—Ç—å**:
    

```go
make([]int, 0, 1000) // –∏–∑–±–µ–≥–∞–µ–º –ª–∏—à–Ω–∏—Ö –∞–ª–ª–æ–∫–∞—Ü–∏–π
```

1.   
    
2. **–ò–∑–±–µ–≥–∞—Ç—å –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏ append** ‚Äî –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —Å–ª–∞–π—Å—ã –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é.
    
3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å copy(dst, src)** ‚Äî –±—ã—Å—Ç—Ä–µ–µ, —á–µ–º append –ø–æ—ç–ª–µ–º–µ–Ω—Ç–Ω–æ.
    
4. **–ù–µ –±—Ä–∞—Ç—å –∞–¥—Ä–µ—Å –∏–∑ —Å–ª–∞–π—Å–∞, –µ—Å–ª–∏ –µ–≥–æ cap –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å—Å—è.**
    

---

## **üõ†Ô∏è –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å–ª–∞–π—Å —Å –¥–ª–∏–Ω–æ–π > 0?**

```go
make([]int, 10)       // len=10, cap=10
make([]int, 5, 100)   // len=5, cap=100
```

–§—É–Ω–∫—Ü–∏—è make —Å–æ–∑–¥–∞—ë—Ç —Å–ª–∞–π—Å —Å –∑–∞—Ä–∞–Ω–µ–µ –∑–∞–¥–∞–Ω–Ω–æ–π –¥–ª–∏–Ω–æ–π –∏/–∏–ª–∏ –≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å—é.

---

## **‚è±Ô∏è –° –∫–∞–∫–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏–¥—ë—Ç –ø–æ–∏—Å–∫ –≤ –º–∞—Å—Å–∏–≤–µ?**

- **O(n)** ‚Äî –ª–∏–Ω–µ–π–Ω—ã–π –ø–µ—Ä–µ–±–æ—Ä, –µ—Å–ª–∏ –Ω–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.
    
- **O(1)** ‚Äî —Ç–æ–ª—å–∫–æ –ø–æ –∏–Ω–¥–µ–∫—Å—É (arr[i])
    
- –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –±–∏–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ ‚Äî –Ω–∞–¥–æ –ø–∏—Å–∞—Ç—å —Ä—É–∫–∞–º–∏ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å sort.Search –¥–ª—è –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –º–∞—Å—Å–∏–≤–æ–≤).
    

  

**–ü–æ—á–µ–º—É?**

  

–ü–æ—Ç–æ–º—É —á—Ç–æ –æ–±—ã—á–Ω—ã–π []T ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–π.

–ù–µ—Ç –Ω–∏ –∏–Ω–¥–µ–∫—Å–æ–≤, –Ω–∏ —Ö–µ—à–µ–π ‚Üí —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–±–æ—Ä.

---

## **üí¨ –ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ:**

  

> –°–ª–∞–π—Å ‚Äî —ç—Ç–æ —Å—Å—ã–ª–∫–∞ –Ω–∞ –º–∞—Å—Å–∏–≤, —Å len –∏ cap. –ú–∞—Å—Å–∏–≤ ‚Äî —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏ –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é.

> Append –º–æ–∂–µ—Ç –∞–ª–ª–æ—Ü–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –º–∞—Å—Å–∏–≤. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É—é —Å–ª–∞–π—Å—ã —á–µ—Ä–µ–∑ make, copy, –∫–æ–Ω—Ç—Ä–æ–ª—å cap.

> –ü–æ–∏—Å–∫ ‚Äî –ª–∏–Ω–µ–π–Ω—ã–π, O(n), –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.


## **üì¶ –ß—Ç–æ —Ç–∞–∫–æ–µ –∫–∞–Ω–∞–ª?**

  

**–ö–∞–Ω–∞–ª (chan)** ‚Äî —ç—Ç–æ **–ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å**, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—É—é –≥–æ—Ä—É—Ç–∏–Ω—ã –æ–±–º–µ–Ω–∏–≤–∞—é—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏.

```go
ch := make(chan int)
ch <- 1        // –æ—Ç–ø—Ä–∞–≤–∫–∞
v := <-ch      // –ø–æ–ª—É—á–µ–Ω–∏–µ
```

---

## **‚öôÔ∏è –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω –∫–∞–Ω–∞–ª –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?**

  

–ö–∞–Ω–∞–ª ‚Äî —ç—Ç–æ:

- –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä (–µ—Å–ª–∏ –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω)
    
- –æ—á–µ—Ä–µ–¥—å –≥–æ—Ä—É—Ç–∏–Ω, –æ–∂–∏–¥–∞—é—â–∏—Ö –æ—Ç–ø—Ä–∞–≤–∫—É –∏–ª–∏ –ø—Ä–∏—ë–º
    
- –º—å—é—Ç–µ–∫—Å –∏ —É—Å–ª–æ–≤–∏—è (cond vars)
    

  

–î–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –∫–∞–Ω–∞–ª–∞ (–±–µ–∑ –±—É—Ñ–µ—Ä–∞) ‚Äî –ø–µ—Ä–µ–¥–∞—á–∞ –∑–Ω–∞—á–µ–Ω–∏—è = –≤—Å—Ç—Ä–µ—á–∞ send –∏ recv.

---

## **üß™ –ö–∞–∫–∏–µ –±—ã–≤–∞—é—Ç —Ç–∏–ø—ã –∫–∞–Ω–∞–ª–æ–≤?**

- **–ë—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ**: make(chan T, N)
    
    - —Ö—Ä–∞–Ω–∏—Ç –¥–æ N —ç–ª–µ–º–µ–Ω—Ç–æ–≤
        
    
- **–ù–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ**: make(chan T)
    
    - –±–ª–æ–∫–∏—Ä—É—é—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è
        
    
- **–û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ**: chan<- T (—Ç–æ–ª—å–∫–æ send), <-chan T (—Ç–æ–ª—å–∫–æ receive)
    

---

## **üõë –ß—Ç–æ –µ—Å–ª–∏ –ø–∏—Å–∞—Ç—å/—á–∏—Ç–∞—Ç—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª?**

|**–û–ø–µ—Ä–∞—Ü–∏—è**|**–†–µ–∑—É–ª—å—Ç–∞—Ç**|
|---|---|
|close(ch)|–∑–∞–∫—Ä—ã–≤–∞–µ—Ç –∫–∞–Ω–∞–ª|
|ch <- x –≤ –∑–∞–∫—Ä—ã—Ç—ã–π|**–ø–∞–Ω–∏–∫–∞** (send on closed chan)|
|<-ch –∏–∑ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ|–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç zero value, ok = false|
|close(ch) –¥–≤–∞–∂–¥—ã|**–ø–∞–Ω–∏–∫–∞**|

---

## **üîÅ –ö–∞–∫–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–æ–∑–º–æ–∂–Ω—ã —Å –∫–∞–Ω–∞–ª–∞–º–∏?**

- ch <- val ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞
    
- val := <-ch ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ
    
- val, ok := <-ch ‚Äî –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ —á—Ç–µ–Ω–∏–µ
    
- close(ch) ‚Äî –∑–∞–∫—Ä—ã—Ç–∏–µ
    
- select { case ... } ‚Äî –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä
    
- range ch ‚Äî —á–∏—Ç–∞—Ç—å –¥–æ –∑–∞–∫—Ä—ã—Ç–∏—è
    

---

## **üì¶ –ö–∞–∫ —Å–¥–µ–ª–∞—Ç—å –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–∞–Ω–∞–ª?**

```
ch := make(chan int, 10)
```

- len(ch) ‚Äî —Ç–µ–∫—É—â–∞—è –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å
    
- cap(ch) ‚Äî —Ä–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞
    

---

## **üß∞ –ö–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±—ã–≤–∞—é—Ç —É –∫–∞–Ω–∞–ª–æ–≤?**

- –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: chan, chan<-, <-chan
    
- –ë—É—Ñ–µ—Ä: 0 (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π) –∏–ª–∏ N (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
    
- –¢–∏–ø: chan int, chan string, –∏ —Ç.–¥.
    

---

## **üîÄ –î–ª—è —á–µ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è**¬†

## **select**

## **?**

  

select ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç **–∂–¥–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞ –∫–∞–Ω–∞–ª–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ**.

```go
select {
case x := <-ch1:
	// –ø—Ä–æ—á–ª–∏ –∏–∑ ch1
case ch2 <- 42:
	// –∑–∞–ø–∏—Å–∞–ª–∏ –≤ ch2
default:
	// –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –≥–æ—Ç–æ–≤–æ
}
```

- –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ **switch –ø–æ –≥–æ—Ç–æ–≤—ã–º –∫–∞–Ω–∞–ª–∞–º**.
    
- –û–¥–∏–Ω –∏–∑ –≥–æ—Ç–æ–≤—ã—Ö –∫–µ–π—Å–æ–≤ –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è **—Å–ª—É—á–∞–π–Ω–æ**, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ.
    

---

## **üö´ –ß—Ç–æ –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å —É–∂–µ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª?**

```go
close(ch)
close(ch) // ‚Üê –ø–∞–Ω–∏–∫–∞
```

---

## **üìâ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç —Å —á–∏—Ç–∞—Ç–µ–ª—è–º–∏ –∏ –ø–∏—Å–∞—Ç–µ–ª—è–º–∏, –µ—Å–ª–∏ –∑–∞–∫—Ä—ã—Ç—å –∫–∞–Ω–∞–ª?**

- **–ß–∏—Ç–∞—Ç–µ–ª–∏**: –º–æ–≥—É—Ç —á–∏—Ç–∞—Ç—å –¥–æ –æ–ø—É—Å—Ç–æ—à–µ–Ω–∏—è, –ø–æ—Ç–æ–º –ø–æ–ª—É—á–∞—é—Ç zero, false
    
- **–ü–∏—Å–∞—Ç–µ–ª–∏**: –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–ø–∏—Å–∏ ‚Üí **–ø–∞–Ω–∏–∫–∞**
    

---

## **üí¨ –ö–∞–∫ –≥–æ–≤–æ—Ä–∏—Ç—å –Ω–∞ —Å–æ–±–µ—Å–µ:**

  

> –ö–∞–Ω–∞–ª ‚Äî –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ—á–µ—Ä–µ–¥—å. –ï—Å—Ç—å –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏ –Ω–µ–±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ.

> –ü–∏—Å–∞—Ç—å –≤ –∑–∞–∫—Ä—ã—Ç—ã–π –∫–∞–Ω–∞–ª ‚Äî –ø–∞–Ω–∏–∫–∞. –ß–∏—Ç–∞—Ç—å –º–æ–∂–Ω–æ, –Ω–æ –ø–æ–ª—É—á–∏—à—å zero –∏ ok=false.

> Select ‚Äî –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –∫–∞–Ω–∞–ª—ã. –ó–∞–∫—Ä—ã—Ç–∏–µ –Ω–∞–¥–æ –¥–µ–ª–∞—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑, –∏ —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª–µ–º.

  